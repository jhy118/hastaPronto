
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ include file="../include/include.jsp"%>
<!DOCTYPE HTML>
<html>
<head>
<title>Hasta Pronto</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="description" content="" />
<meta name="keywords" content="" />
<script src="<c:url value='/js/jquery.min.js'/>"></script>
<script src="<c:url value='/js/jquery.dropotron.min.js'/>"></script>
<script src="<c:url value='/js/skel.min.js'/>"></script>
<script src="<c:url value='/js/skel-layers.min.js'/>"></script>
<script src="<c:url value='/js/init.js'/>"></script>
<link rel="stylesheet" href="<c:url value='/css/skel.css'/>" />
<link rel="stylesheet" href="<c:url value='/css/style.css'/>" />
<script type="text/javascript">
	function exPay(charge){
		var exbad = document.frm.rmExbadnum.value;
		var preCharge = charge/1000;
		document.getElementById('exP').innerHTML = '\\' + (exbad * 60) + ",000";
		document.getElementById('total').innerHTML = '\\' + (exbad * 60 + preCharge) + ",000";
		document.frm.rmPmChar.value = exbad * 60000 + parseInt(charge);
	}
</script>
</head>

<body class="homepage">
	<!-- Header -->
	<div id="header">
		<div class="container">

			<!-- Logo -->
			<h1>
				<a href="<c:url value='/'/>" id="logo">HASTA PRONTO</a>
			</h1>

			<!-- Nav -->
			<nav id="nav">
				<ul>
					<li><a href="<c:url value='/'/>">HASTA PRONTO</a></li>
					<li><a href="">ROOM</a>
						<ul>
							<c:forEach items="${roomList }" var="room">
								<li><a href="<c:url value='/room/roomInfo/${room.rmNo}'/>">${room.rmName }</a></li>
							</c:forEach>
						</ul></li>
					<li><a href="left-sidebar.html">RESTAURANT</a></li>
					<li><a href="../hastaPronto/schedule/main">PREMIUM LIFE</a></li>
					<li><a href="wedding/wedBrochure">WEDDING</a>
						<ul>
							<li><a href="wedding/wedBrochure">WEDDING HALL</a></li>
							<li><a href="wedRes/wedResList">WEDDING BUFFET</a></li>
							<li><a href="wedCs/wedCsList">COLSULTING</a></li>
							<li><a href="wedRv/wedRvList">RESERVATION</a>
								<ul>
									<li><a href="wedPay/wedPmList">PAYMENT</a></li>
								</ul></li>
						</ul></li>
				</ul>
			</nav>
		</div>
	</div>
	<!-- Main -->
	<div id="main" class="wrapper style1">
		<div class="container">
			<section>
				<header>
					<h2>Room Reservation</h2>
				</header>
	<form:form action="roomResv" modelAttribute="roomResv" method="post" name="frm">
		<form:hidden path="rmNo" />
		<form:hidden path="ckIn" />
		<form:hidden path="ckOut" />
		<table width="600">
			<tr>
				<th colspan="2"><h3>예약 정보</h3></th>
			</tr>
			<tr>
				<td colspan="2">${room.rmName}<br />
					${fn:substringBefore(roomResv.ckIn, 'T')} ~
					${fn:substringBefore(roomResv.ckOut, 'T') }<br />
				</td>
			</tr>
			<tr>
				<td colspan="2"><h3>인원</h3></td>
			</tr>
			<tr>
				<td colspan="2"><select name="rmRvNum">
						<option value="">성인</option>
						<c:forEach begin="1" end="${room.rmNum }" var="adult">
							<option value="${adult}">${adult}</option><
						</c:forEach>
				</select> <form:errors path="rmRvNum"/> <select name="rmRequirements">
						<option value="">아동</option>
						<c:forEach begin="1" end="2" var="child">
							<option value="아동 ${child}명">${child }</option>
						</c:forEach>
				</select></td>
			</tr>
			<tr>
				<td colspan="2"><h3>침대 추가</h3></td>
			</tr>
			<tr>
				<td colspan="2">객실 내 이동식 침대를 추가해 드립니다. 단, 한정된 수량으로 인해 수급이 불가 할
					수 있습니다. 체크인 시 가능 여부를 확인해 드립니다.<br /> \60,000[1대/1박] <select
					name="rmExbadnum" onchange="exPay('${room.rmChar}');">
						<option value="0">추가안함</option>
						<option value="1">1대</option>
				</select><br />
				</td>
			</tr>
			<tr>
				<td colspan="2"><h3>취소규정</h3></td>
			</tr>
			<tr>
				<td colspan="2">
					<ul>
						<li>숙박 예정일 하루 전인 [${fn:substringBefore(roomResv.ckIn, '-')}년
							${fn:substring(roomResv.ckIn, 5, 6)}월
							${fn:substring(roomResv.ckIn, 7, 9)-1}일 오후 6시]까지 취소 가능합니다. 취소 기한
							이후에 예약을 취소하실 경우 예약 첫날에 해당하는 1박 객실 요금과 세금 및 봉사료가 합산된 금액의 위약금이 청구될
							수 있으니 유의하시기 바랍니다.</li>
						<li>투숙 당일 노쇼 (No Show) 발생 시 동일한 위약금이 청구될 수 있습니다.</li>
					</ul>
				</td>
			</tr>
			<tr>
				<td colspan="2"><h3>요청 사항</h3></td>
			</tr>
			<tr>
				<td colspan="2">선택하신 투숙 요청 사항은 호텔 사정에 따라 제공이 불가능할 수 있으며 보장되는
					항목이 아닙니다. 가능 여부는 체크 인 시 확인하실 수 있습니다.</td>
			</tr>
			<tr>
				<th>객실위치</th>
				<td><input type="checkbox" name="rmRequirements" value="저층객실">
					저층객실 <input type="checkbox" name="rmRequirements" value="엘리베이터 근처">
					엘리베이터 근처</td>
			</tr>
			<tr>
				<th>기타요청</th>
				<td><input type="checkbox" name="rmRequirements" value="깃털 알러지">
					깃털 알러지 <input type="checkbox" name="rmRequirements"
					value="장애인 편의 객실"> 장애인 편의 객실 <input type="checkbox"
					name="rmRequirements" value="호텔 브로셔"> 호텔 브로셔 <form:textarea
						rows="3" cols="50" path="rmRequirements" /></td>
			</tr>
			<tr>
				<td colspan="2"><h3>요청 사항</h3></td>
			</tr>
			<tr>
				<td colspan="2">신용카드 종류 <select name="rmAccount">
						<option value="">카드사를 선택해주세요</option>
						<option value="01">American Express카드</option>
						<option value="02">JCB카드</option>
						<option value="03">Maestro카드</option>
						<option value="04">Master카드</option>
						<option value="05">국민카드</option>
						<option value="06">농협카드</option>
						<option value="07">롯데카드</option>
						<option value="08">비씨카드</option>
						<option value="09">삼성카드</option>
						<option value="10">신한카드</option>
						<option value="11">시티카드</option>
						<option value="12">우리카드</option>
						<option value="13">하나카드</option>
						<option value="14">현대카드</option>
				</select><br /> 카드번호 <input type="text" name="rmAccount"
					placeholder="0000-0000-0000-0000"><br /> 유효기간 <input
					type="text" name="rmAccount" size="2" maxlength="2"
					placeholder="MM"> 월 / <input type="text" name="rmAccount" size="4"
					maxlength="4" placeholder="YYYY"> 년<br/><form:errors path="rmAccount"/>
				</td>
			</tr>
		</table>
		<table width="300">
			<tr>
				<td>객실 총 금액</td>
				<td align="right"><fmt:formatNumber type="curency"
						value="${room.rmChar*0.8 }" pattern="\#,###" /></td>
			</tr>
			<tr>
				<td>객실 세금 및 봉사료</td>
				<td align="right"><fmt:formatNumber type="curency"
						value="${room.rmChar*0.2 }" pattern="\#,###" /></td>
			</tr>
			<tr>
				<td>추가옵션 금액</td>
				<td align="right"><span id="exP" >\0</span></td>
			</tr>
			<tr>
				<td>총 예약 금액</td>
				<td align="right"><span id="total"><fmt:formatNumber type="curency"
						value="${room.rmChar}" pattern="\#,###" /></span>
						<input type="hidden"  name="rmPmChar" value="${room.rmChar}"><br/>
						</td>
			</tr>
			<tr>
				<td colspan="2">(박 수, 객실 세금 및 봉사료, 옵션 포함)</td>
			</tr>
			<tr>
				<th colspan="2"><input type="submit" value="결제하기"></th>
			</tr>
		</table>
	</form:form>
</section>
		</div>
	</div>

	<!-- Footer -->
	<div id="footer">
		<div class="container">

			<!-- Lists -->
			<div class="row">
				<div class="8u"></div>
				<div class="4u"></div>
			</div>

			<!-- Copyright -->
			<div class="copyright">
				<c:if test="${authInfo.grade == 'emp' }">
					<a href="<c:url value='/emp/empList'/>">직원관리</a> |
								<a href="<c:url value='/dept/deptList'/>">부서관리</a> |
								<a href="<c:url value='/notice/notice'/>">지원공고</a> |
							</c:if>
			</div>

		</div>
	</div>

</body>
</html>